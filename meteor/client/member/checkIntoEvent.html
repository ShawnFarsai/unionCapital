<template name="checkIntoEvent">
  <div class="col-xs-12 col-md-6 col-md-offset-3">
    <div class="row">
      <div id="map-canvas" class="checkin-map"></div>
    </div>
    <div class="row">
      <div class="col-xs-12 page-panel page-panel-flush radio-button" id="pastOrCurrentRdoDiv">
        <input type="radio" id="rdoCurrentEvents" name="pastOrCurrentRdo" value="current" checked="checked">
        <label for="rdoCurrentEvents">Current</label>
        <input type="radio" id="rdoPastEvents" name="pastOrCurrentRdo" value="past">
        <label for="rdoPastEvents">Past</label>
      </div>
    </div>
    <div id="checkinBody">
      <div class="row" id="seachDiv">
        <div class="col-xs-12 page-panel page-panel-flush">
          <div class="input-group flush-input" id="searchDiv">
            <input class="form-control" id="eventSearchBox" placeholder="Begin typing to filter events">
            <span class="input-group-addon cancel-text-addon" id="clearBtn"><span class="glyphicon glyphicon-remove"></span></span>
          </div>
          <div id="checkIntoEventDiv" class="check-in-div">
            <button type="button" class="btn btn-success btn-block check-in-button">Check In</button>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="panel-group" id="accordion" role="tablist" aria-multiselectable="true">
          {{#each getEvents}}
            <div class="panel panel-default">
              <div class="panel-heading" role="tab" id="heading{{_id}}">
                <h4 class="panel-title">
                  <a data-toggle="{{dataToggle}}" data-parent="#accordion" href="#panel{{_id}}"
                    aria-expanded="true" aria-controls="panel{{_id}}">
                    {{{name}}}
                  </a>
                </h4>
              </div>
              <div id="panel{{_id}}" class="panel-collapse collapse" role="tabpanel"
                aria-labelledby="heading{{_id}}">
                <div class="panel-body">
                  <table>
                    <tr>
                      <td><i>{{{description}}}</i></td>
                    </tr>
                    <tr>
                      <td><b>{{formatDate eventDate}}-{{justTime endTime}}</b></td>
                    </tr>
                  </table>
                  <button type="button" class="btn {{eventSelectClass}} btn-block accordion-button" id="{{_id}}">{{eventSelectText}}</button>
                </div>
              </div>
            </div>
          {{else}}
            <p>There are no events that meet your filter criteria nearby.</p>
          {{/each}}
        </div>
      </div>
      <div class="row">
        <div class="col-xs-12 page-panel panel-link ad-hoc-panel text-center">
          <a href="{{pathFor 'eventCheckinDetails' id='new'}}">
            Submit New Event
          </a>
        </div>
        <em>Use this option to submit an event not listed above</em>
      </div>
    </div>
  </div>
</template>
