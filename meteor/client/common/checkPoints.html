<template name="checkPoints">
  <div class="col-xs-12 col-md-12">
    <div class="row">
      <div class="col-xs-12">
        <h1 class="text-center">Total Points: {{totalPoints}}</h1>
        {{> Template.dynamic template="pointTemplate" data=pendingEvents }}
        {{> Template.dynamic template="pointTemplate" data=approvedEvents }}
      </div>
    </div>
  </div>
</template>

<template name="pointTemplate">
  <div class="row">
    <div class="col-xs-12 page-panel">
      <div class="ptheader text-center">{{title}}</div>
      {{#each eventsToDisplay}}
        <div class="panel-group" id="accordion" role="tablist"
                                                aria-multiselectable="true">
          <div class="panel panel-default ">
            <div class="panel-heading {{rowBackgroundClass}}" role="tab" id="heading{{_id}}">
              <div class="header-container text-center">
                <div class="eventTime">{{formatDate transactionDate}}</div>
                <div class="eventName">
                  <a data-toggle="collapse" href="#{{_id}}"
                                            aria-expanded="true" aria-controls="{{_id}}" id="link{{_id}}" 
                                                                                         class="block-link">{{{event.name}}}</a>
                </div> <!-- eventName -->
                <div class="eventTime">{{eventPoints}}</div>
              </div> <!-- header container -->
            </div> <!-- panel header -->
            <div id="{{_id}}" class="panel-collapse collapse" role="tabpanel"
                aria-labelledby="heading{{_id}}">
              <div class="panel-body">
                <p><b>Description: </b>{{event.description}}</p>
                {{#if isUCBEvent}}
                <p><b>How would you rate this event?</b></p>
                <!-- all credit here goes to Martin Ivanov, Rating Stars-->
                <div class="acidjs-rating-stars">
                  <form>
                    <input type="radio" name="{{_id}}" id="group-1-0{{_id}}" 
                    value="5" />
                    <label for="group-1-0{{_id}}"></label>
                    <input type="radio" name="{{_id}}" id="group-1-1{{_id}}" 
                    value="4" />
                    <label for="group-1-1{{_id}}"></label>
                    <input type="radio" name="{{_id}}" id="group-1-2{{_id}}" 
                    value="3" />
                    <label for="group-1-2{{_id}}"></label>
                    <input type="radio" name="{{_id}}" id="group-1-3{{_id}}" 
                    value="2" />
                    <label for="group-1-3{{_id}}"></label>
                    <input type="radio" name="{{_id}}" id="group-1-4{{_id}}"  
                    value="1" />
                    <label for="group-1-4{{_id}}"></label>
                  </form>
                </div>
                <br>
                <div class="input-group">
                  <input type="text" class="form-control" placeholder="Comment...">
                  <span class="input-group-btn">
                    <button class="btn btn-success post" type="button">Post</button>
                  </span>
                </div>
                {{/if}}
              </div> <!-- panel body -->
            </div> <!-- panel collapse -->
          </div> <!-- panel -->
        </div> <!-- panel group -->
        {{else}}
        <h3 class="text-center"><small>No pending transactions!</small></h3>
      {{/each}}
    </div>
  </div>
</template>
